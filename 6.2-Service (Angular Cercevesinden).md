
# 1) Angular cercevesinden Service nedir, hangi problemi cozer, nasil kullanilir ?


## 🧩 1. Service Nedir?

📘 **Tanım:**
**Service**, Angular’da **iş mantığını (business logic)** veya **veri yönetimini (data handling)** component’lerden ayırmak için kullanılan yapılardır.

> Başka bir deyişle:
> “Service, component’in arkasındaki beyin gibidir.”
> Component kullanıcıyla konuşur, service ise sistemle konuşur.

---

## 🎯 2. Hangi Problemi Çözer?

Bir uygulamada component’ler kullanıcı arayüzünü (UI) yönetir.
Ancak eğer component içinde hem UI hem iş mantığı yazılırsa:

* Kod karmaşıklaşır,
* Tekrar kullanılamaz,
* Test edilmesi zorlaşır.

Service bu problemi çözer:

* Component’ten iş mantığını soyutlar,
* Veriyi yönetir (örneğin API çağrıları, local storage, hesaplama, filtreleme),
* Component’ler arası veri paylaşımını kolaylaştırır.

💡 **Özetle:**

> Service, “UI dışındaki tüm aklı” taşır.
> Component sadece “sunum katmanı” olarak sadeleşir.

---

## ⚙️ 3. Temel Kullanım (API Çağrısı Yapan Service)

**user.service.ts**

```ts
import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable } from 'rxjs';

@Injectable({ providedIn: 'root' })
export class UserService {
  private apiUrl = 'https://jsonplaceholder.typicode.com/users'; // örnek API

  constructor(private http: HttpClient) {}

  getUsers(): Observable<any[]> {
    return this.http.get<any[]>(this.apiUrl);
  }

  addUser(newUser: any): Observable<any> {
    return this.http.post<any>(this.apiUrl, newUser);
  }
}
```

**app.component.ts**

```ts
import { Component, OnInit } from '@angular/core';
import { UserService } from './user.service';

@Component({
  selector: 'app-root',
  template: `
    <ul>
      <li *ngFor="let user of users">{{ user.name }}</li>
    </ul>

    <button (click)="addUser()">Yeni Kullanıcı Ekle</button>
  `
})
export class AppComponent implements OnInit {
  users: any[] = [];

  private readonly userService = inject(UserService);

  ngOnInit() {
    // Component başlarken veriyi servisten çeker
    this.userService.getUsers().subscribe(data => {
      this.users = data;
    });
  }

  addUser() {
    const newUser = { name: 'Yeni Kullanıcı', email: 'newuser@example.com' };
    this.userService.addUser(newUser).subscribe(user => {
      this.users.push(user);
    });
  }
}
```

🟢 **Açıklama:**

* `UserService`, API ile konuşarak veriyi getirir veya gönderir.
* Component sadece **UI’yi günceller**, verinin nasıl geldiğini bilmez.
* Bu yaklaşım, **gerçek dünyadaki uygulamalarda** en sık kullanılan service yapısıdır.

---

## 🧠 4. Soyutlama Fikri

> Component = Görsel yüz (UI katmanı)
> Service = Uygulamanın aklı (iş mantığı)
>
> Component sadece “ne zaman” olacağını bilir,
> Service “nasıl” olacağını tanımlar.

---

## 🔁 5. Service ve DI (Dependency Injection) İlişkisi

Service’ler tek başına çalışmaz; **Dependency Injection** sistemiyle component’lere “enjekte edilir”.

```ts
constructor(private userService: UserService) {}
```

Angular bu satırı gördüğünde:

* `UserService`’i `@Injectable` olarak bulur,
* Aynı instance’ı (singleton) component’e verir.

Bu sayede component:

* Servis yaratmaz, sadece kullanır.
* Uygulamanın geri kalanı aynı servisi paylaşır.

---

## ✅ 6. Best Practice’ler

| Prensip                                         | Açıklama                                                                                  |
| ----------------------------------------------- | ----------------------------------------------------------------------------------------- |
| **1. Tek sorumluluk (SRP)**                     | Her service sadece tek iş yapsın (ör. `UserService`, `AuthService`).                      |
| **2. Injectable + DI**                          | Service’ler `@Injectable()` olmalı ve constructor üzerinden enjekte edilmeli.             |
| **3. “providedIn: 'root'” kullan**              | Global servisler için ideal (singleton pattern).                                          |
| **4. Asenkron işlemlerde Observable tercih et** | API çağrıları, veri akışı için `Observable` kullanmak Angular ekosistemine daha uygundur. |
| **5. Component içinde business logic olmasın**  | Hesaplama, API çağrısı, cache yönetimi → servise taşınmalı.                               |

---

## 💡 Soyutlama Cümlesi

> **Service**, Angular uygulamasında **davranışın (iş mantığının) soyutlandığı katmandır.**
> Component sadece kullanıcıyla iletişim kurar,
> Service veriyi işler, yönetir ve paylaşır.
>
> Böylece Angular, hem UI hem iş mantığı açısından temiz, sürdürülebilir bir mimari sağlar.



