
# 1) Directive nedir, hangi problemi cozer, nasil kullanilir ?


## 🧩 1. Directive Nedir?

📘 **Tanım:**
**Directive**, Angular’da HTML elementlerinin **davranışını (behavior)** veya **görünümünü (appearance)** dinamik olarak değiştirmeye yarayan yapılardır.

> Başka bir deyişle:
> “Directive, HTML’e Angular zekâsı ekler.”
> Yani normal bir etiketi, özel kurallara göre **etkileşimli ve akıllı hale getirir.**

---

## 🎯 2. Hangi Problemi Çözer?

HTML statiktir.
Bir `<div>` veya `<p>` etiketi tek başına “şartlı görünüm”, “tekrarlama” veya “dinamik stil” gibi davranışları yönetemez.

Directive’ler bu sınırlamayı çözer:

* DOM elementlerinin görünümünü veya davranışını koşula göre değiştirir,
* Yeni özellikler (`attribute`) ekleyerek HTML sözdizimini genişletir,
* Tekrarlayan HTML mantıklarını yeniden kullanılabilir hale getirir.

💡 **Özetle:**

> Directive’ler, “HTML’in yapamadığı davranışsal işleri” Angular düzeyinde yapar.

---

## ⚙️ 3. Directive Türleri

| Tür                      | Açıklama                                                  | Örnek                                         |
| ------------------------ | --------------------------------------------------------- | --------------------------------------------- |
| **Structural Directive** | DOM yapısını değiştirir (ekleme, silme, tekrar etme)      | `*ngIf`, `*ngFor`, `*ngSwitch`                |
| **Attribute Directive**  | Var olan elementin görünümünü veya davranışını değiştirir | `ngClass`, `ngStyle`, `appHighlight` (custom) |
| **Custom Directive**     | Geliştiricinin tanımladığı özel davranış                  | `@Directive()` ile oluşturulur                |

---

## 🧱 4. Structural Directive Örneği (`*ngIf`)

```html
<p *ngIf="isLoggedIn">Hoş geldin, kullanıcı!</p>
<p *ngIf="!isLoggedIn">Lütfen giriş yapın.</p>

<ul>
  <li *ngFor="let item of items">{{ item }}</li>
</ul>
```

**app.component.ts**

```ts
export class AppComponent {
  isLoggedIn = false;
  items = ['Elma', 'Armut', 'Muz'];
}
```

🟢 **Açıklama:**

* `*ngIf`, DOM’a koşula göre eleman ekler veya kaldırır.
* `*ngFor`, bir koleksiyon (array) üzerindeki her öğe için yeni bir DOM elemanı oluşturur.
* `isLoggedIn` false olduğunda `<p>` kaldırılır; `items` listesi değişirse liste de otomatik güncellenir.

💡 **Soyutlama:** HTML tek başına koşullu görünüm veya döngü üretemez — Angular bunu DOM düzeyinde yapar.


---

## 🎨 5. Attribute Directive Örneği (`ngStyle`)


```html
<p [ngStyle]="{ color: isActive ? 'green' : 'gray' }">
  Durum: {{ isActive ? 'Aktif' : 'Pasif' }}
</p>

<div [ngClass]="{ 'highlight': isHighlighted, 'muted': !isHighlighted }">
  Stil durumu: {{ isHighlighted ? 'Vurgulu' : 'Soluk' }}
</div>
```

**app.component.ts**

```ts
export class AppComponent {
  isActive = true;
  isHighlighted = false;
}
```

🟢 **Açıklama:**

* `ngStyle`, CSS stillerini dinamik olarak ayarlar.
* `ngClass`, elemente koşula bağlı olarak bir veya birden fazla CSS sınıfı ekler/kaldırır.
* `isActive` veya `isHighlighted` değiştiğinde Angular DOM’u yeniden render eder.

💡 **Soyutlama:**
HTML’in inline stilini veya statik class’larını değil, **davranışsal olarak değişebilen bir görünüm katmanını** oluşturur.


---

## 🧠 6. Custom Directive (Kendi Directive’ini Yazmak)

- **Amaç:**
Aynı davranışı birçok yerde tekrar etmemek için özel bir directive tanımlayabilirsin.
- **Not:**
    > Custom Directive'ler ile hem `Strutcural Directive` hem de `Attribute Directive`olusturulabilir

    > Fakat Custom Directive'ler ile genel olarak `Attribute Directive`'ler olusturulur

**highlight.directive.ts**

```ts
import { Directive, ElementRef, HostListener } from '@angular/core';

@Directive({
  selector: '[appHighlight]' // HTML’de böyle çağrılır
})
export class HighlightDirective {
  constructor(private el: ElementRef) {}

  @HostListener('mouseenter') onMouseEnter() {
    this.el.nativeElement.style.backgroundColor = 'yellow';
  }

  @HostListener('mouseleave') onMouseLeave() {
    this.el.nativeElement.style.backgroundColor = '';
  }
}
```

**app.component.html**

```html
<p appHighlight>Üzerime gelince sarı oluyorum!</p>
```

🟢 **Açıklama:**

* `@Directive` decorator’ı ile yeni bir directive tanımlanır.
* `selector: '[appHighlight]'` → HTML attribute olarak çağrılır.
* `@HostListener` → olaylara tepki verir (örneğin fareyle üzerine gelme).

💡 **Sonuç:**
HTML artık “davranış eklenebilir” hale gelir.
Tekrarlayan davranışlar merkezi olarak yönetilir.

---

## 🧱 7. Best Practice’ler

| Prensip                                     | Açıklama                                                            |
| ------------------------------------------- | ------------------------------------------------------------------- |
| **1. Tek sorumluluk**                       | Bir directive yalnızca tek bir davranışı kontrol etmeli.            |
| **2. DOM manipülasyonunu soyutla**          | `ElementRef` yerine mümkünse Renderer2 kullan (daha güvenli).       |
| **3. Yeniden kullanılabilirlik**            | Aynı davranışı birden fazla elementte kullanmak için directive yaz. |
| **4. İsimlendirme standardı**               | Custom directive adları `appSomething` şeklinde olmalı.             |
| **5. Structural directive yazarken dikkat** | DOM manipülasyonu Angular’ın kendi lifecycle’ı ile uyumlu olmalı.   |

---

## 💡 Soyutlama Cümlesi

> **Directive**, Angular’ın HTML’i “davranışsal olarak genişletme” aracıdır.
>
> Structural Directive’ler DOM yapısını değiştirir,
> Attribute Directive’ler görünüm veya davranışı değiştirir.
>
> Böylece Angular, HTML’in yapamadığı “koşullu, tekrarlayan ve dinamik” işlevleri framework düzeyinde yönetir.

---











