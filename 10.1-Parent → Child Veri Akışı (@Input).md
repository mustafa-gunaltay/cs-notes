

# 1) 


## ğŸ§© **1ï¸âƒ£ Parent â†’ Child Veri AkÄ±ÅŸÄ± (`@Input`)**

### ğŸ“˜ 1. Kavramsal TanÄ±m

`@Input()` decoratorâ€™Ä±, **Ã¼st bileÅŸenden (parent)** gelen veriyi **alt bileÅŸene (child)** aktarmak iÃ§in kullanÄ±lÄ±r.
Yani component hiyerarÅŸisinde **tek yÃ¶nlÃ¼ veri akÄ±ÅŸÄ± (top â†’ down)** saÄŸlar.

> ğŸ”¹ **Soyut tanÄ±m:**
> Parent veriyi Ã¼retir â†’ Child bu veriyi kullanÄ±r (ama deÄŸiÅŸtirmez).

---

### âš™ï¸ 2. Temel KullanÄ±m

**parent.component.html**

```html
<app-user-card [userName]="'Mustafa GÃ¼naltay'"></app-user-card>
```

**user-card.component.ts (child)**

```ts
import { Component, Input } from '@angular/core';

@Component({
  selector: 'app-user-card',
  template: `<p>KullanÄ±cÄ±: {{ userName }}</p>`
})
export class UserCardComponent {
  @Input() userName!: string;
}
```

ğŸ§  **AÃ§Ä±klama:**

* `[userName]` â†’ parentâ€™ta property binding yapÄ±ldÄ±.
* `@Input()` â†’ child tarafÄ±nda, parentâ€™tan gelen deÄŸeri yakaladÄ±.
* Veri tek yÃ¶nlÃ¼dÃ¼r: child deÄŸiÅŸtirse bile parent etkilenmez.

---

### ğŸ§© 3. Zorunlu Input TanÄ±mlama (`@Input({ required: true })`)

Angular 16+ sÃ¼rÃ¼mleriyle birlikte, artÄ±k bir inputâ€™un **zorunlu (required)** olduÄŸunu derleme aÅŸamasÄ±nda belirtebilirsin.
Bu Ã¶zellik, componentâ€™in doÄŸru ÅŸekilde kullanÄ±lmasÄ±nÄ± garanti eder.

```ts
@Input({ required: true }) userName!: string;
```

ğŸ’¡ **Ne iÅŸe yarar?**

* Parent component `userName` deÄŸerini gÃ¶ndermezse derleme zamanÄ±nda uyarÄ± verir.
* Bu sayede **runtime hatalarÄ±** yerine **build-time gÃ¼venliÄŸi** saÄŸlanÄ±r.
* Kodun okunabilirliÄŸini ve bakÄ±mÄ±nÄ± kolaylaÅŸtÄ±rÄ±r.

---

### ğŸ§© 4. Ä°leri Seviye: `@Input()` Alias, Setter, ve DeÄŸiÅŸim Takibi

#### ğŸ”¹ Alias KullanÄ±mÄ±

Parentâ€™ta kullanÄ±lan property adÄ± ile childâ€™taki deÄŸiÅŸken adÄ± farklÄ± olabilir:

```ts
@Input('heading') title!: string;
```

```html
<app-header [heading]="'Ana Sayfa'"></app-header>
```

Burada parent `[heading]` gÃ¶nderir ama child iÃ§inde `title` ismiyle kullanÄ±lÄ±r.

---

#### ğŸ”¹ Setter KullanÄ±mÄ±

BazÄ± durumlarda input geldiÄŸi anda ek iÅŸlem yapmak istersin (Ã¶r. API Ã§aÄŸrÄ±sÄ± veya formatlama):

```ts
private _id!: number;

@Input() set userId(value: number) {
  this._id = value;
  this.loadUser(value);
}
```

Setter yaklaÅŸÄ±mÄ±, deÄŸiÅŸen veriyi yakalayarak anÄ±nda yan etki (side-effect) Ã¼retmeni saÄŸlar.

---

#### ğŸ”¹ `ngOnChanges()` ile DeÄŸiÅŸiklikleri Ä°zleme

Bir veya birden fazla inputâ€™un deÄŸiÅŸimini aynÄ± anda izlemek iÃ§in:

```ts
ngOnChanges(changes: SimpleChanges): void {
  if (changes['userName']) {
    console.log('Yeni kullanÄ±cÄ± adÄ±:', changes['userName'].currentValue);
  }
}
```

---

### âš¡ 5. Best Practiceâ€™ler

| Prensip                                    | AÃ§Ä±klama                                                    |
| ------------------------------------------ | ----------------------------------------------------------- |
| **1. Tek yÃ¶nlÃ¼ veri akÄ±ÅŸÄ±**                | Child, parent verisini sadece kullanÄ±r; deÄŸiÅŸtirmez.        |
| **2. Inputâ€™larÄ± salt okunur gibi dÃ¼ÅŸÃ¼n**   | State deÄŸiÅŸikliÄŸi gerekiyorsa kopya Ã¼ret.                   |
| **3. `!` veya varsayÄ±lan deÄŸer kullan**    | `undefined` hatalarÄ±nÄ± Ã¶nler.                               |
| **4. `@Input({ required: true })` kullan** | Parentâ€™tan veri gelmediÄŸinde build-timeâ€™da hata yakalarsÄ±n. |
| **5. Setter veya `ngOnChanges` kullan**    | Veri deÄŸiÅŸimine baÄŸlÄ± iÅŸlemleri burada yÃ¶net.               |
| **6. `OnPush` + immutable veri tercih et** | PerformansÄ± artÄ±rÄ±r, change detection yÃ¼kÃ¼nÃ¼ azaltÄ±r.       |

---

### ğŸ’¡ Soyutlama CÃ¼mlesi

> `@Input()`, component hiyerarÅŸisinde **yukarÄ±dan aÅŸaÄŸÄ±ya veri akÄ±ÅŸÄ±nÄ±** saÄŸlar.
> Child component, parentâ€™tan aldÄ±ÄŸÄ± veriyi **gÃ¶sterir ama deÄŸiÅŸtirmez** â€” bu da **tek yÃ¶nlÃ¼ veri akÄ±ÅŸÄ±nÄ± (unidirectional flow)** garanti eder.

---






# 2) ngOnChanges() Metodu

Harika, aÅŸaÄŸÄ±daki notunu **bozmadan**, **birden fazla `@Input()`** olduÄŸunda `changes` kullanÄ±mÄ±nÄ± entegre ettim. EklediÄŸim yeni bÃ¶lÃ¼m â€œ### ğŸ”€ Birden Fazla `@Input()` OlduÄŸundaâ€ baÅŸlÄ±ÄŸÄ±yla geldi.

---

Harika bir nokta yakaladÄ±n ğŸ‘
`ngOnChanges()` Angularâ€™da Ã¶zellikle **@Input() deÄŸerleri deÄŸiÅŸtiÄŸinde** otomatik tetiklenen bir **lifecycle hook**â€™tur.
Yani parent component, childâ€™a yeni bir deÄŸer gÃ¶nderdiÄŸinde Angular bu metodu **otomatik olarak Ã§aÄŸÄ±rÄ±r.**

AÅŸaÄŸÄ±da hem kavramsal hem de pratik olarak detaylandÄ±ralÄ±m ğŸ‘‡

---

## ğŸ§© `ngOnChanges()` Nedir?

### ğŸ“˜ Kavramsal TanÄ±m

`ngOnChanges()` metodu, bir componentâ€™in `@Input()` ile aldÄ±ÄŸÄ± deÄŸerlerden **herhangi biri deÄŸiÅŸtiÄŸinde** Angular tarafÄ±ndan otomatik Ã§alÄ±ÅŸtÄ±rÄ±lÄ±r.
Bu sayede component, **gelen verideki deÄŸiÅŸikliklere tepki verebilir.**

---

## âš™ï¸ Parametre: `SimpleChanges`

Angular, bu metoda otomatik olarak `SimpleChanges` tipinde bir nesne gÃ¶nderir.

```ts
ngOnChanges(changes: SimpleChanges): void {
  console.log(changes);
}
```

`SimpleChanges` bir nesnedir ve her bir deÄŸiÅŸen input iÃ§in ÅŸu bilgileri iÃ§erir:

| Alan              | AÃ§Ä±klama                        |
| ----------------- | ------------------------------- |
| **previousValue** | Ã–nceki deÄŸer                    |
| **currentValue**  | Yeni deÄŸer                      |
| **firstChange**   | Bu deÄŸiÅŸiklik ilk mi? (boolean) |

---

## ğŸ§± Pratik Ã–rnek

**parent.component.html**

```html
<input type="text" [(ngModel)]="userName" placeholder="Ad giriniz" />
<app-user-card [userName]="userName"></app-user-card>
```

**user-card.component.ts (child)**

```ts
import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';

@Component({
  selector: 'app-user-card',
  template: `<p>KullanÄ±cÄ±: {{ userName }}</p>`
})
export class UserCardComponent implements OnChanges {
  @Input() userName!: string;

  ngOnChanges(changes: SimpleChanges): void {
    if (changes['userName']) {
      const prev = changes['userName'].previousValue;
      const curr = changes['userName'].currentValue;

      console.log(`KullanÄ±cÄ± adÄ± deÄŸiÅŸti: ${prev} â†’ ${curr}`);
    }
  }
}
```

### ğŸ§  Ne Oluyor?

* Parentâ€™ta kullanÄ±cÄ± inputâ€™a bir ÅŸey yazdÄ±ÄŸÄ±nda `userName` deÄŸeri deÄŸiÅŸir.
* Bu deÄŸiÅŸiklik `@Input()` ile childâ€™a iletilir.
* Angular bunu fark eder ve `ngOnChanges()`â€™i **otomatik olarak Ã§aÄŸÄ±rÄ±r.**
* `changes['userName']` iÃ§inden eski ve yeni deÄŸeri okuyabilirsin.

---

### ğŸ”€ Birden Fazla `@Input()` OlduÄŸunda

Birden Ã§ok `@Input()` varsa, `changes` nesnesi **deÄŸiÅŸen her inputâ€™u ayrÄ± bir anahtar (key)** olarak iÃ§erir.

**parent.component.html**

```html
<app-user-card [userName]="name" [age]="userAge"></app-user-card>
```

**user-card.component.ts (child)**

```ts
import { Component, Input, OnChanges, SimpleChanges } from '@angular/core';

@Component({
  selector: 'app-user-card',
  template: `<p>{{ userName }} ({{ age }} yaÅŸÄ±nda)</p>`
})
export class UserCardComponent implements OnChanges {
  @Input() userName!: string;
  @Input() age!: number;

  ngOnChanges(changes: SimpleChanges): void {
    if (changes['userName']) {
      const { previousValue, currentValue, firstChange } = changes['userName'];
      console.log(`userName: ${previousValue} â†’ ${currentValue}`, { firstChange });
    }

    if (changes['age']) {
      const { previousValue, currentValue, firstChange } = changes['age'];
      console.log(`age: ${previousValue} â†’ ${currentValue}`, { firstChange });
    }
  }
}
```

ğŸ§  **Notlar:**

* Sadece **deÄŸiÅŸen** inputâ€™lar `changes` iÃ§inde bulunur.
* Ä°lk atamada `firstChange: true` olur.
* DeÄŸer aynÄ± kalÄ±rsa Angular `ngOnChanges`â€™i tetiklemez.

---

## ğŸ’¡ Ne Zaman KullanÄ±lÄ±r?

`ngOnChanges()` genellikle ÅŸu durumlarda kullanÄ±lÄ±r:

| Senaryo                                    | AmaÃ§                                      |
| ------------------------------------------ | ----------------------------------------- |
| Parent veriyi dinamik olarak gÃ¼ncelliyorsa | Child tarafÄ±nda buna tepki vermek         |
| Input geldiÄŸinde iÅŸlem yapmak gerekiyorsa  | Ã–rneÄŸin formatlama veya API Ã§aÄŸrÄ±sÄ±       |
| Birden fazla input varsa                   | Her biri iÃ§in deÄŸiÅŸimi ayrÄ± ayrÄ± yÃ¶netmek |

---

## âš ï¸ Ã–nemli Not

* `ngOnChanges()` **yalnÄ±zca @Input() deÄŸerleri deÄŸiÅŸtiÄŸinde** tetiklenir.
  Yani component iÃ§indeki normal deÄŸiÅŸkenler bu metoda etki etmez.
* Angular `OnChanges` arayÃ¼zÃ¼nÃ¼ (interface) uygularsan IntelliSense desteÄŸi ve tip gÃ¼venliÄŸi saÄŸlar:

  ```ts
  export class UserCardComponent implements OnChanges { ... }
  ```

---

### ğŸ’¬ Ã–zetle:

> `ngOnChanges()` â†’ Angularâ€™Ä±n â€œ@Input deÄŸiÅŸtiâ€ sinyalidir.
> DeÄŸiÅŸen veriyi `SimpleChanges` iÃ§inden okuyabilir, Ã¶nceki ve yeni deÄŸerleri karÅŸÄ±laÅŸtÄ±rarak tepki verebilirsin.

---

