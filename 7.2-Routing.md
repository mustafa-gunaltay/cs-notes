

# 1) Routing nedir, hangi problemi cozer, nasil kullanilir ?


## 🧩 1. Routing Nedir?

📘 **Tanım:**
**Routing**, Angular’da kullanıcıların farklı sayfalara veya bileşenlere **sayfa yenilenmeden (single-page)** geçiş yapmasını sağlayan mekanizmadır.

> Başka bir deyişle:
> “Routing, URL değişimini sayfa yenilenmesine gerek kalmadan yönetir.”

---

## 🎯 2. Hangi Problemi Çözer?

Klasik web uygulamalarında:

* Her sayfa değişiminde tarayıcı yeni bir HTML dosyası ister,
* Bu da tam sayfa yenilenmeye (page reload) neden olur.

SPA (Single Page Application) yaklaşımında ise:

* Tek bir HTML dosyası yüklenir,
* URL değiştiğinde sadece **ilgili component** dinamik olarak render edilir.

💡 **Özetle:**

> Routing, “sayfalar arası geçişi fiziksel değil, mantıksal hale getirir.”
> Kullanıcıya yeni bir sayfadaymış hissi verir ama aslında tek sayfadır.

---

## ⚙️ 3. Angular’da Routing Nasıl Çalışır?

Angular Router, `RouterModule` üzerinden tanımlanır.
Temel bileşenleri:

* **Routes array** → Hangi path hangi component’e gider
    - Angular’da her sayfa geçişi (path) bir component ile eşleştirilir.
    Bu eşleştirme bir routes dizisi (Routes array) içinde tanımlanır.
        - Routes dizisi Angular'da genellikle `app.routes.ts` dosyasi icinde yer alir

    - Ornek:
app.routes.ts
```ts
//...

export const routes: Routes = [
  { path: '', component: HomeComponent },
  { path: 'about', component: AboutComponent }
];
```

* **RouterOutlet** → İçeriğin yükleneceği yer
    - Hatirlatma: SPA yaklasiminda her bir route icin farkli html'in gosterilmedigini ayni html'in degistirilerek tarayida kullaniciya gosterildigini soylemistik
    - Path degistiginde yani sayfa degistiginde gosterilecek olan yeni sayfa `<router-outlet></router-outlet>` tag'i icinde render'lanir (orada olusturulur). Bu render islemini Angular'a icindeki built-in `RouterOutlet` yapisi yapar
        - Bu tag genellikle header ve footer componentleri ile birlikte `app.component.html` icinde yer alir
        - `app.component.html` dosyasi tarayicida gosterilen tek html dosyasidir. Sayfa degisiminde router-outlet taginin ici tekrar tekrar yenilenerek kullaniciya farkli bir sayfa gosteriliyor izlenimi yaratilir
* **RouterLink** → Geçişi tetikleyen bağlantı
    - Router Link HTML seviyesinde kullanilan bir yapidir
    - Genellikle HTML elemanlari ustunde bir property olarak bulunur ve spesifik bir path'e gidilecegini belirtir
    - Ornek:
```html
...
<nz-breadcrumb style="margin-bottom: 16px;">
    <nz-breadcrumb-item>
      <a [routerLink]="['/']">Ana Sayfa</a>
    </nz-breadcrumb-item>
    <nz-breadcrumb-item>
      <a [routerLink]="['/categories']">Kategoriler</a>
    </nz-breadcrumb-item>
    @if (category) {
      <nz-breadcrumb-item>
        {{ category.name }}
      </nz-breadcrumb-item>
    }
    @if (!category && !loading) {
      <nz-breadcrumb-item>
        Detay
      </nz-breadcrumb-item>
    }
  </nz-breadcrumb>
...
```

---

## 🧱 4. Temel Kullanım Örneği

**app.routes.ts**

```ts
import { Routes } from '@angular/router';
import { HomeComponent } from './home/home.component';
import { AboutComponent } from './about/about.component';

export const routes: Routes = [
  { path: '', component: HomeComponent },
  { path: 'about', component: AboutComponent }
];
```

**app.config.ts**

```ts
import { ApplicationConfig } from '@angular/core';
import { provideRouter } from '@angular/router';
import { routes } from './app.routes';

export const appConfig: ApplicationConfig = {
  providers: [provideRouter(routes)]
};
```

**app.component.html**

```html
<nav>
  <a routerLink="/">Ana Sayfa</a>
  <a routerLink="/about">Hakkında</a>
</nav>

<router-outlet></router-outlet>
```

**home.component.html**

```html
<h2>Hoş geldin!</h2>
```

**about.component.html**

```html
<h2>Bu bir Angular uygulamasıdır.</h2>
```

🟢 **Açıklama:**

* `routerLink` → Tıkladığında URL değişir (`/about`)
* `RouterOutlet` → Yeni component’i dinamik olarak render eder
* Tarayıcı yenilenmez, sadece içerik değişir.

---

## 🧭 5. Dinamik Route Parametreleri ve `ActivatedRoute`

**app.routes.ts**

```ts
import { Routes } from '@angular/router';
import { UserDetailComponent } from './user-detail/user-detail.component';

export const routes: Routes = [
  { path: 'users/:id', component: UserDetailComponent }
];
```

**user-detail.component.ts**

```ts
import { Component } from '@angular/core';
import { ActivatedRoute } from '@angular/router';

@Component({
  selector: 'app-user-detail',
  template: `<p>Kullanıcı ID: {{ userId }}</p>`
})
export class UserDetailComponent {
  userId: string | null;

  constructor(private route: ActivatedRoute) {
    this.userId = this.route.snapshot.paramMap.get('id');
  }
}
```

🟢 **Açıklama:**

* `ActivatedRoute`, o anki route’a ait bilgileri (parametre, query param, fragment) okumayı sağlar.
* Burada `/users/42` adresine gidildiğinde Angular URL’deki `42` değerini `id` parametresine atar.
* Alternatif olarak Angular 14+ ile:

  ```ts
  private readonly route = inject(ActivatedRoute);
  ```

  ifadesi kullanılabilir.
  Bu, klasik `constructor(private route: ActivatedRoute) {}` sözdiziminin kısaltılmış halidir.

---

## 🧠 6. Soyutlama Fikri

> Routing, “component’ler arasında geçişi yönetmek için kullanılan davranışsal navigasyon katmanıdır.”
>
> * URL = Durumun temsili
> * Component = Görünüm
> * Router = Bu ikisi arasındaki köprü

---

## ✅ 7. Best Practice’ler

| Prensip                                               | Açıklama                                                                           |
| ----------------------------------------------------- | ---------------------------------------------------------------------------------- |
| **1. Routing modülünü ayrı tanımla**                  | `app.routes.ts` gibi yapı kullan; routing config component’lerle karışmasın.       |
| **2. Lazy loading kullan**                            | Büyük projelerde modülleri `loadChildren` ile dinamik yükle, performans artar.     |
| **3. RouterLink yerine doğrudan `<a href>` kullanma** | `<a>` kullanmak sayfayı yeniler; `routerLink` SPA davranışını korur.               |
| **4. Parametreleri `ActivatedRoute` ile yönet**       | Route parametrelerini `snapshot` veya `paramMap` ile al.                           |
| **5. Navigation mantığını servise taşı**              | Karmaşık yönlendirmelerde `Router` servisini (`this.router.navigate(...)`) kullan. |

---

## 💡 Soyutlama Cümlesi

> **Routing**, Angular uygulamasında **sayfa geçişlerinin soyutlandığı katmandır.**
>
> Kullanıcı yeni bir sayfadaymış gibi hisseder,
> ama aslında tek bir HTML sayfasında, component’ler arasında gezinir.
>
> Böylece Angular, **navigasyonu davranışa dönüştürür** — fiziksel geçiş yerine mantıksal geçiş sağlar.

---

Elbette — aşağıda senin yazım tarzına ve önceki notlarının biçimine sadık kalarak “## Routing Akış Özeti” bölümünü tamamlanmış biçimde yazdım 👇

---

## Routing Akış Özeti

* **Routing’in Belirlenmesine ait 2 seviye:**

  * **Template (HTML) Seviyesi Routing**

    * Kullanıcı etkileşimiyle tetiklenen yönlendirmelerdir.
    * HTML tarafında `routerLink` directive’i kullanılır.
    * Örnek:

      ```html
      <a routerLink="/categories">Kategoriler</a>
      <button [routerLink]="['/categories', 12]">Kategori Detayı</button>
      ```
    * Kullanıcı tıkladığında Angular Router devreye girer, path değişimi gerçekleşir fakat sayfa yenilenmez.

  * **TypeScript (Kod) Seviyesi Routing**

    * Kod içinden programatik olarak yapılan yönlendirmelerdir.
    * `Router` servisi üzerinden `navigate()` veya `navigateByUrl()` metotları kullanılır.
    * Örnek:

      ```ts
      import { Router } from '@angular/router';

      export class CategoryComponent {
        constructor(private router: Router) {}

        goToDetail(id: number) {
          this.router.navigate(['/categories', id]);
        }
      }
      ```
    * Genellikle API çağrısı veya kullanıcı işlemi sonrasında (örneğin form submit) yönlendirme yapılır.

---

* **Render’i Gerçekleştiren Yapı:**

  * `loadComponent()` → Router’ın belirli bir path için hangi component’in yükleneceğini tanımlar.
  * Gerçek render işlemi, `RouterOutlet` içinde Angular tarafından otomatik yapılır.
  * Bu tanım genellikle `app.routes.ts` dosyasında bulunur.
  * Örnek:

    ```ts
    {
      path: 'categories',
      loadComponent: () => import('./features/categories/components/category-list/category-list.component')
        .then(m => m.CategoryListComponent)
    }
    ```
  * Bu yapı, `routerLink` veya `router.navigate()` çağrısı sonucunda çalışarak belirtilen component’i dinamik olarak render eder.

---

💡 **Soyutlama Cümlesi:**

> `routerLink` yönlendirmeyi başlatır,
> `loadComponent()` hangi component’in yükleneceğini belirtir,
> Angular icindeki built-in `RouterOutlet` yapisi ise render işlemini gerçekleştirir.
>
> Böylece Angular’da routing akışı, **UI → Logic → Render** sıralamasıyla tamamlanır.

