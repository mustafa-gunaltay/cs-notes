

# 1) Routing nedir, hangi problemi cozer, nasil kullanilir ?


## ğŸ§© 1. Routing Nedir?

ğŸ“˜ **TanÄ±m:**
**Routing**, Angularâ€™da kullanÄ±cÄ±larÄ±n farklÄ± sayfalara veya bileÅŸenlere **sayfa yenilenmeden (single-page)** geÃ§iÅŸ yapmasÄ±nÄ± saÄŸlayan mekanizmadÄ±r.

> BaÅŸka bir deyiÅŸle:
> â€œRouting, URL deÄŸiÅŸimini sayfa yenilenmesine gerek kalmadan yÃ¶netir.â€

---

## ğŸ¯ 2. Hangi Problemi Ã‡Ã¶zer?

Klasik web uygulamalarÄ±nda:

* Her sayfa deÄŸiÅŸiminde tarayÄ±cÄ± yeni bir HTML dosyasÄ± ister,
* Bu da tam sayfa yenilenmeye (page reload) neden olur.

SPA (Single Page Application) yaklaÅŸÄ±mÄ±nda ise:

* Tek bir HTML dosyasÄ± yÃ¼klenir,
* URL deÄŸiÅŸtiÄŸinde sadece **ilgili component** dinamik olarak render edilir.

ğŸ’¡ **Ã–zetle:**

> Routing, â€œsayfalar arasÄ± geÃ§iÅŸi fiziksel deÄŸil, mantÄ±ksal hale getirir.â€
> KullanÄ±cÄ±ya yeni bir sayfadaymÄ±ÅŸ hissi verir ama aslÄ±nda tek sayfadÄ±r.

---

## âš™ï¸ 3. Angularâ€™da Routing NasÄ±l Ã‡alÄ±ÅŸÄ±r?

Angular Router, `RouterModule` Ã¼zerinden tanÄ±mlanÄ±r.
Temel bileÅŸenleri:

* **Routes array** â†’ Hangi path hangi componentâ€™e gider
    - Angularâ€™da her sayfa geÃ§iÅŸi (path) bir component ile eÅŸleÅŸtirilir.
    Bu eÅŸleÅŸtirme bir routes dizisi (Routes array) iÃ§inde tanÄ±mlanÄ±r.
        - Routes dizisi Angular'da genellikle `app.routes.ts` dosyasi icinde yer alir

    - Ornek:
app.routes.ts
```ts
//...

export const routes: Routes = [
  { path: '', component: HomeComponent },
  { path: 'about', component: AboutComponent }
];
```

* **RouterOutlet** â†’ Ä°Ã§eriÄŸin yÃ¼kleneceÄŸi yer
    - Hatirlatma: SPA yaklasiminda her bir route icin farkli html'in gosterilmedigini ayni html'in degistirilerek tarayida kullaniciya gosterildigini soylemistik
    - Path degistiginde yani sayfa degistiginde gosterilecek olan yeni sayfa `<router-outlet></router-outlet>` tag'i icinde render'lanir (orada olusturulur). Bu render islemini Angular'a icindeki built-in `RouterOutlet` yapisi yapar
        - Bu tag genellikle header ve footer componentleri ile birlikte `app.component.html` icinde yer alir
        - `app.component.html` dosyasi tarayicida gosterilen tek html dosyasidir. Sayfa degisiminde router-outlet taginin ici tekrar tekrar yenilenerek kullaniciya farkli bir sayfa gosteriliyor izlenimi yaratilir
* **RouterLink** â†’ GeÃ§iÅŸi tetikleyen baÄŸlantÄ±
    - Router Link HTML seviyesinde kullanilan bir yapidir
    - Genellikle HTML elemanlari ustunde bir property olarak bulunur ve spesifik bir path'e gidilecegini belirtir
    - Ornek:
```html
...
<nz-breadcrumb style="margin-bottom: 16px;">
    <nz-breadcrumb-item>
      <a [routerLink]="['/']">Ana Sayfa</a>
    </nz-breadcrumb-item>
    <nz-breadcrumb-item>
      <a [routerLink]="['/categories']">Kategoriler</a>
    </nz-breadcrumb-item>
    @if (category) {
      <nz-breadcrumb-item>
        {{ category.name }}
      </nz-breadcrumb-item>
    }
    @if (!category && !loading) {
      <nz-breadcrumb-item>
        Detay
      </nz-breadcrumb-item>
    }
  </nz-breadcrumb>
...
```

---

## ğŸ§± 4. Temel KullanÄ±m Ã–rneÄŸi

**app.routes.ts**

```ts
import { Routes } from '@angular/router';
import { HomeComponent } from './home/home.component';
import { AboutComponent } from './about/about.component';

export const routes: Routes = [
  { path: '', component: HomeComponent },
  { path: 'about', component: AboutComponent }
];
```

**app.config.ts**

```ts
import { ApplicationConfig } from '@angular/core';
import { provideRouter } from '@angular/router';
import { routes } from './app.routes';

export const appConfig: ApplicationConfig = {
  providers: [provideRouter(routes)]
};
```

**app.component.html**

```html
<nav>
  <a routerLink="/">Ana Sayfa</a>
  <a routerLink="/about">HakkÄ±nda</a>
</nav>

<router-outlet></router-outlet>
```

**home.component.html**

```html
<h2>HoÅŸ geldin!</h2>
```

**about.component.html**

```html
<h2>Bu bir Angular uygulamasÄ±dÄ±r.</h2>
```

ğŸŸ¢ **AÃ§Ä±klama:**

* `routerLink` â†’ TÄ±kladÄ±ÄŸÄ±nda URL deÄŸiÅŸir (`/about`)
* `RouterOutlet` â†’ Yeni componentâ€™i dinamik olarak render eder
* TarayÄ±cÄ± yenilenmez, sadece iÃ§erik deÄŸiÅŸir.

---

## ğŸ§­ 5. Dinamik Route Parametreleri ve `ActivatedRoute`

**app.routes.ts**

```ts
import { Routes } from '@angular/router';
import { UserDetailComponent } from './user-detail/user-detail.component';

export const routes: Routes = [
  { path: 'users/:id', component: UserDetailComponent }
];
```

**user-detail.component.ts**

```ts
import { Component } from '@angular/core';
import { ActivatedRoute } from '@angular/router';

@Component({
  selector: 'app-user-detail',
  template: `<p>KullanÄ±cÄ± ID: {{ userId }}</p>`
})
export class UserDetailComponent {
  userId: string | null;

  constructor(private route: ActivatedRoute) {
    this.userId = this.route.snapshot.paramMap.get('id');
  }
}
```

ğŸŸ¢ **AÃ§Ä±klama:**

* `ActivatedRoute`, o anki routeâ€™a ait bilgileri (parametre, query param, fragment) okumayÄ± saÄŸlar.
* Burada `/users/42` adresine gidildiÄŸinde Angular URLâ€™deki `42` deÄŸerini `id` parametresine atar.
* Alternatif olarak Angular 14+ ile:

  ```ts
  private readonly route = inject(ActivatedRoute);
  ```

  ifadesi kullanÄ±labilir.
  Bu, klasik `constructor(private route: ActivatedRoute) {}` sÃ¶zdiziminin kÄ±saltÄ±lmÄ±ÅŸ halidir.

---

## ğŸ§  6. Soyutlama Fikri

> Routing, â€œcomponentâ€™ler arasÄ±nda geÃ§iÅŸi yÃ¶netmek iÃ§in kullanÄ±lan davranÄ±ÅŸsal navigasyon katmanÄ±dÄ±r.â€
>
> * URL = Durumun temsili
> * Component = GÃ¶rÃ¼nÃ¼m
> * Router = Bu ikisi arasÄ±ndaki kÃ¶prÃ¼

---

## âœ… 7. Best Practiceâ€™ler

| Prensip                                               | AÃ§Ä±klama                                                                           |
| ----------------------------------------------------- | ---------------------------------------------------------------------------------- |
| **1. Routing modÃ¼lÃ¼nÃ¼ ayrÄ± tanÄ±mla**                  | `app.routes.ts` gibi yapÄ± kullan; routing config componentâ€™lerle karÄ±ÅŸmasÄ±n.       |
| **2. Lazy loading kullan**                            | BÃ¼yÃ¼k projelerde modÃ¼lleri `loadChildren` ile dinamik yÃ¼kle, performans artar.     |
| **3. RouterLink yerine doÄŸrudan `<a href>` kullanma** | `<a>` kullanmak sayfayÄ± yeniler; `routerLink` SPA davranÄ±ÅŸÄ±nÄ± korur.               |
| **4. Parametreleri `ActivatedRoute` ile yÃ¶net**       | Route parametrelerini `snapshot` veya `paramMap` ile al.                           |
| **5. Navigation mantÄ±ÄŸÄ±nÄ± servise taÅŸÄ±**              | KarmaÅŸÄ±k yÃ¶nlendirmelerde `Router` servisini (`this.router.navigate(...)`) kullan. |

---

## ğŸ’¡ Soyutlama CÃ¼mlesi

> **Routing**, Angular uygulamasÄ±nda **sayfa geÃ§iÅŸlerinin soyutlandÄ±ÄŸÄ± katmandÄ±r.**
>
> KullanÄ±cÄ± yeni bir sayfadaymÄ±ÅŸ gibi hisseder,
> ama aslÄ±nda tek bir HTML sayfasÄ±nda, componentâ€™ler arasÄ±nda gezinir.
>
> BÃ¶ylece Angular, **navigasyonu davranÄ±ÅŸa dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r** â€” fiziksel geÃ§iÅŸ yerine mantÄ±ksal geÃ§iÅŸ saÄŸlar.

---

Elbette â€” aÅŸaÄŸÄ±da senin yazÄ±m tarzÄ±na ve Ã¶nceki notlarÄ±nÄ±n biÃ§imine sadÄ±k kalarak â€œ## Routing AkÄ±ÅŸ Ã–zetiâ€ bÃ¶lÃ¼mÃ¼nÃ¼ tamamlanmÄ±ÅŸ biÃ§imde yazdÄ±m ğŸ‘‡

---

## Routing AkÄ±ÅŸ Ã–zeti

* **Routingâ€™in Belirlenmesine ait 2 seviye:**

  * **Template (HTML) Seviyesi Routing**

    * KullanÄ±cÄ± etkileÅŸimiyle tetiklenen yÃ¶nlendirmelerdir.
    * HTML tarafÄ±nda `routerLink` directiveâ€™i kullanÄ±lÄ±r.
    * Ã–rnek:

      ```html
      <a routerLink="/categories">Kategoriler</a>
      <button [routerLink]="['/categories', 12]">Kategori DetayÄ±</button>
      ```
    * KullanÄ±cÄ± tÄ±kladÄ±ÄŸÄ±nda Angular Router devreye girer, path deÄŸiÅŸimi gerÃ§ekleÅŸir fakat sayfa yenilenmez.

  * **TypeScript (Kod) Seviyesi Routing**

    * Kod iÃ§inden programatik olarak yapÄ±lan yÃ¶nlendirmelerdir.
    * `Router` servisi Ã¼zerinden `navigate()` veya `navigateByUrl()` metotlarÄ± kullanÄ±lÄ±r.
    * Ã–rnek:

      ```ts
      import { Router } from '@angular/router';

      export class CategoryComponent {
        constructor(private router: Router) {}

        goToDetail(id: number) {
          this.router.navigate(['/categories', id]);
        }
      }
      ```
    * Genellikle API Ã§aÄŸrÄ±sÄ± veya kullanÄ±cÄ± iÅŸlemi sonrasÄ±nda (Ã¶rneÄŸin form submit) yÃ¶nlendirme yapÄ±lÄ±r.

---

* **Renderâ€™i GerÃ§ekleÅŸtiren YapÄ±:**

  * `loadComponent()` â†’ Routerâ€™Ä±n belirli bir path iÃ§in hangi componentâ€™in yÃ¼kleneceÄŸini tanÄ±mlar.
  * GerÃ§ek render iÅŸlemi, `RouterOutlet` iÃ§inde Angular tarafÄ±ndan otomatik yapÄ±lÄ±r.
  * Bu tanÄ±m genellikle `app.routes.ts` dosyasÄ±nda bulunur.
  * Ã–rnek:

    ```ts
    {
      path: 'categories',
      loadComponent: () => import('./features/categories/components/category-list/category-list.component')
        .then(m => m.CategoryListComponent)
    }
    ```
  * Bu yapÄ±, `routerLink` veya `router.navigate()` Ã§aÄŸrÄ±sÄ± sonucunda Ã§alÄ±ÅŸarak belirtilen componentâ€™i dinamik olarak render eder.

---

ğŸ’¡ **Soyutlama CÃ¼mlesi:**

> `routerLink` yÃ¶nlendirmeyi baÅŸlatÄ±r,
> `loadComponent()` hangi componentâ€™in yÃ¼kleneceÄŸini belirtir,
> Angular icindeki built-in `RouterOutlet` yapisi ise render iÅŸlemini gerÃ§ekleÅŸtirir.
>
> BÃ¶ylece Angularâ€™da routing akÄ±ÅŸÄ±, **UI â†’ Logic â†’ Render** sÄ±ralamasÄ±yla tamamlanÄ±r.

